<!DOCTYPE html>
<html dir='ltr' lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0'>
  <title>Localization</title>

  <script type='module' src='https://cdn.jsdelivr.net/npm/@uiwebkit/icn@1.2.2/dist/icn/icn.esm.js'></script>
  <!--<script type='module' src='http://localhost:1111/build/udk.esm.js'></script>-->
  <script type='module' src='https://cdn.jsdelivr.net/npm/@uiwebkit/udk@2.0.0-21/dist/udk.esm.js'></script>
  <script type='module' src='https://cdn.jsdelivr.net/npm/@uiwebkit/mat@2.0.0-9/dist/mat.esm.js'></script>
  <script type='module' src='https://cdn.jsdelivr.net/npm/@uiwebkit/pro@1.0.4/dist/pro.esm.js'></script>
  <script type='module' src='build/localize.esm.js'></script>
</head>
<body>
<!--https://uni.github.io/loc/lang-menu.json-->
<uni-store-set shadow mode='init' type='local' path='loc.form.url' state='assets/json/flag-route.json'></uni-store-set>
<uni-store-set shadow mode='init' type='local' path='loc.form.linear' state='false'></uni-store-set>
<uni-store-set shadow mode='init' type='local' path='loc.form.mini' state='false'></uni-store-set>
<uni-store-set shadow mode='init' type='local' path='loc.form.round' state='false'></uni-store-set>
<uni-store-set shadow mode='init' type='local' path='loc.form.mode' state='default'></uni-store-set>
<uni-store-set shadow mode='init' type='local' path='loc.form.type' state='local'></uni-store-set>


<!--<uni-lang-menu url='assets/json/lang-list.json'></uni-lang-menu>-->

<!--<div>-->
<!--  <uni-event-store-set listen='uniCheckboxChecked' type='local' path='loc.form.mini'>-->
<!--    <uni-form-field>-->
<!--      <uni-store-get type='local' path='loc.form.mini' equal='true' prop='value' value='checked'>-->
<!--        <uni-checkbox data-id='loc-mini'></uni-checkbox>-->
<!--      </uni-store-get>-->

<!--      <label for='loc-mini'>Set 'mini'</label>-->
<!--    </uni-form-field>-->
<!--  </uni-event-store-set>-->
<!--</div>-->

<!--<div>-->
<!--  <uni-event-store-set listen='uniCheckboxChecked' shadow type='local' path='loc.form.round'>-->
<!--    <uni-form-field>-->
<!--      <uni-store-get type='local' path='loc.form.round' equal='true' prop='value' value='checked'>-->
<!--        <uni-checkbox data-id='loc-round'></uni-checkbox>-->
<!--      </uni-store-get>-->

<!--      <label for='loc-round'>Set 'round'</label>-->
<!--    </uni-form-field>-->
<!--  </uni-event-store-set>-->
<!--</div>-->

<!--<div>-->
<!--  <uni-event-store-set listen='uniCheckboxChecked' shadow type='local' path='loc.form.routing'>-->
<!--    <uni-form-field>-->
<!--      <uni-store-get type='local' path='loc.form.routing' equal='true' prop='value' value='checked'>-->
<!--        <uni-checkbox data-id='loc-routing'></uni-checkbox>-->
<!--      </uni-store-get>-->

<!--      <label for='loc-routing'>Enable routing (visible in URL)</label>-->
<!--    </uni-form-field>-->
<!--  </uni-event-store-set>-->
<!--</div>-->

<div>
  <uni-event-store-set listen='input' path='loc.form.url'>
    <uni-event-store-get type='local' path='loc.form.url' prop='value'>
      <input type='text' name='input' id='loc-list'>
    </uni-event-store-get>

    <uni-event listen='click' prop='activate'>
      <uni-store-get inactive path='loc.form.url' prop='state'>
        <uni-store-set type='local' path='loc.form.url'></uni-store-set>
      </uni-store-get>

      <uni-button pro mode='outlined'>Save</uni-button>
    </uni-event>
  </uni-event-store-set>

  <label for='loc-list'>Set languages list url</label>
</div>

<div>
  <uni-event-store-get listen='click' type='local' path='loc.form.linear' prop='state'>
    <uni-modify action='toggle' prop='state'>
      <uni-store-set type='local' path='loc.form.linear'></uni-store-set>

      <uni-store-get type='local' path='loc.form.linear' prop='checked'>
        <input type='checkbox' id='loc-linear' name='loc-mini' value='1'>
      </uni-store-get>

      <label for='loc-linear'>Set 'linear'</label>
    </uni-modify>
  </uni-event-store-get>
</div>

<div>
  <uni-event-store-get listen='click' type='local' path='loc.form.mini' prop='state'>
    <uni-modify action='toggle' prop='state'>
      <uni-store-set type='local' path='loc.form.mini'></uni-store-set>

      <uni-store-get type='local' path='loc.form.mini' prop='checked'>
        <input type='checkbox' id='loc-mini' name='loc-mini' value='1'>
      </uni-store-get>

      <label for='loc-mini'>Set 'mini'</label>
    </uni-modify>
  </uni-event-store-get>
</div>

<div>
  <uni-event-store-get listen='click' type='local' path='loc.form.round' prop='state'>
    <uni-modify action='toggle' prop='state'>
      <uni-store-set type='local' path='loc.form.round'></uni-store-set>

      <uni-store-get type='local' path='loc.form.round' prop='checked'>
        <input type='checkbox' id='loc-round' name='loc-round' value='1'>
      </uni-store-get>

      <label for='loc-round'>Set 'round'</label>
    </uni-modify>
  </uni-event-store-get>
</div>

<div>
  <span>Set Button mode:</span>

  <form>
    <uni-event-store-set listen='click' type='local' path='loc.form.mode' state='default'>
      <uni-form-field>
        <uni-event-store-get type='local' path='loc.form.mode' equal='default' prop='checked'>
          <uni-radio data-id='loc-mode-default'></uni-radio>
        </uni-event-store-get>

        <label for='loc-mode-default'>default</label>
      </uni-form-field>
    </uni-event-store-set>

    <uni-event-store-set listen='click' type='local' path='loc.form.mode' state='outlined'>
      <uni-form-field>
        <uni-event-store-get type='local' path='loc.form.mode' equal='outlined' prop='checked'>
          <uni-radio data-id='loc-mode-outlined'></uni-radio>
        </uni-event-store-get>

        <label for='loc-mode-outlined'>outlined</label>
      </uni-form-field>
    </uni-event-store-set>

    <uni-event-store-set listen='click' type='local' path='loc.form.mode' state='flat'>
      <uni-form-field>
        <uni-event-store-get type='local' path='loc.form.mode' equal='flat' prop='checked'>
          <uni-radio data-id='loc-mode-flat'></uni-radio>
        </uni-event-store-get>

        <label for='loc-mode-flat'>flat</label>
      </uni-form-field>
    </uni-event-store-set>

    <uni-event-store-set listen='click' type='local' path='loc.form.mode' state='raised'>
      <uni-form-field>
        <uni-event-store-get type='local' path='loc.form.mode' equal='raised' prop='checked'>
          <uni-radio data-id='loc-mode-raised'></uni-radio>
        </uni-event-store-get>

        <label for='loc-mode-raised'>raised</label>
      </uni-form-field>
    </uni-event-store-set>
  </form>
</div>

<div>
  <span>Set Store type:</span>

  <form>
    <uni-event-store-set listen='click' type='local' path='loc.form.type' state='local'>
      <uni-form-field>
        <uni-event-store-get type='local' path='loc.form.type' equal='local' prop='checked'>
          <uni-radio data-id='loc-type-local'></uni-radio>
        </uni-event-store-get>

        <label for='loc-type-local'>local</label>
      </uni-form-field>
    </uni-event-store-set>

    <uni-event-store-set listen='click' type='local' path='loc.form.type' state='session'>
      <uni-form-field>
        <uni-event-store-get type='local' path='loc.form.type' equal='session' prop='checked'>
          <uni-radio data-id='loc-type-session'></uni-radio>
        </uni-event-store-get>

        <label for='loc-type-session'>session</label>
      </uni-form-field>
    </uni-event-store-set>

    <uni-event-store-set listen='click' type='local' path='loc.form.type' state='memory'>
      <uni-form-field>
        <uni-event-store-get type='local' path='loc.form.type' equal='memory' prop='checked'>
          <uni-radio data-id='loc-type-memory'></uni-radio>
        </uni-event-store-get>

        <label for='loc-type-memory'>memory</label>
      </uni-form-field>
    </uni-event-store-set>
  </form>
</div>

<hr />

<uni-router shadow></uni-router>

<uni-event-store-get type='local' path='loc.form.round' all selector='uni-lang-menu, uni-lang-menu-shadow, uni-flag'
                     prop='round'>
  <uni-event-store-get type='local' path='loc.form.linear' all selector='uni-lang-menu, uni-lang-menu-shadow'
                       prop='linear'>
    <uni-event-store-get type='local' path='loc.form.mini' all selector='uni-lang-menu, uni-lang-menu-shadow'
                         prop='mini'>
      <uni-event-store-get type='local' path='loc.form.mode' all selector='uni-lang-menu, uni-lang-menu-shadow'
                           prop='mode'>
        <uni-event-store-get type='local' path='loc.form.type' all selector='uni-lang-menu, uni-lang-menu-shadow'
                             prop='type'>
          <uni-event-store-get type='local' path='loc.form.url' all selector='uni-event-load' prop='url'>
            <div style='padding: 5px'>
              Element:
              <uni-event-load multi prop='value'>
                <uni-lang-menu
                  selected-index='1'
                  active-path='loc.element.active'
                  translate-path='loc.element.translate'
                ></uni-lang-menu>
              </uni-event-load>

              <uni-translate path='loc.element.translate'>This content is localized</uni-translate>
            </div>

            <div style='padding: 5px'>
              Shadow:
              <uni-event-load multi prop='value'>
                <uni-lang-menu-shadow
                  selected-index='1'
                  active-path='loc.shadow.active'
                  translate-path='loc.shadow.translate'
                ></uni-lang-menu-shadow>
              </uni-event-load>

              <uni-translate path='loc.shadow.translate'>This content is localized</uni-translate>
            </div>
          </uni-event-store-get>
        </uni-event-store-get>
      </uni-event-store-get>
    </uni-event-store-get>
  </uni-event-store-get>

  <div>
    <uni-store-set type='local' mode='init' path='loc.route.active'
                   state='{"lang": "en", "flag": "gb", "textLabel": "English", "translationUrl": "assets/json/i18n/en.json"}'>
    </uni-store-set>

    <uni-lang-menu only>
      <uni-menu>
        <uni-button pro>
          <uni-button-icon only>
            <uni-event-store-get type='local' path='loc.route.active.flag' selector='uni-flag' prop='name'>
              <uni-flag></uni-flag>
            </uni-event-store-get>
          </uni-button-icon>

          <uni-store-display type='local' path='loc.form.mini' equal='false'>
            <uni-button-label>
              <uni-event-store-get type='local' path='loc.route.active.textLabel' selector='uni-render' prop='value'>
                <uni-render text></uni-render>
              </uni-event-store-get>
            </uni-button-label>
          </uni-store-display>

          <uni-button-icon name='arrow-drop-down'>
          </uni-button-icon>
        </uni-button>

        <uni-menu-surface>
          <uni-list-wrap pro>
            <ul>
              <uni-load-repeat strict url='assets/json/flag-route.json'>
                <template>
                  <uni-router-link params='(( route ))'>
                    <uni-event-store-get type='local' path='loc.route.active.lang' equal='(( lang ))' prop='selected'>
                      <uni-list-item>
                        <uni-list-item-graphic only>
                          <uni-modify state='(( flag ))' action='unbind' prop='name'>
                            <uni-flag></uni-flag>
                          </uni-modify>
                        </uni-list-item-graphic>

                        <uni-list-item-text>(( textLabel ))</uni-list-item-text>
                      </uni-list-item>
                    </uni-event-store-get>
                  </uni-router-link>

                  <uni-route params='(( route ))' prop='activate'>
                    <uni-store-set inactive type='local' mode='set' path='loc.route.active' state='(( uniself ))'>
                    </uni-store-set>
                  </uni-route>
                </template>
              </uni-load-repeat>
            </ul>
          </uni-list-wrap>
        </uni-menu-surface>
      </uni-menu>
    </uni-lang-menu>

    <uni-translate path='loc.route.translate'>This content is localized</uni-translate>

    <uni-event-store-get type='local' path='loc.route.active.translationUrl' selector='uni-load-store' prop='url'>
      <uni-load-store multi mode='set' path='loc.route.translate'></uni-load-store>
    </uni-event-store-get>
  </div>

  <div>
    <uni-load-store type='local' path='loc.store.languages' url='assets/json/flag-route.json'></uni-load-store>

    <uni-event-store-get type='local' path='loc.store.languages[0]' prop='state'>
      <uni-store-set type='local' mode='init' path='loc.store.active'></uni-store-set>
    </uni-event-store-get>

    <uni-lang-menu only>
      <uni-menu>
        <uni-button pro>
          <uni-button-icon only>
            <uni-event-store-get type='local' path='loc.store.active.flag' selector='uni-flag' prop='name'>
              <uni-flag></uni-flag>
            </uni-event-store-get>
          </uni-button-icon>

          <uni-store-display type='local' path='loc.form.mini' equal='false'>
            <uni-button-label>
              <uni-event-store-get type='local' path='loc.store.active.textLabel' prop='value'>
                <uni-render text></uni-render>
              </uni-event-store-get>
            </uni-button-label>
          </uni-store-display>

          <uni-button-icon name='arrow-drop-down'></uni-button-icon>
        </uni-button>

        <uni-menu-surface>
          <uni-list-wrap pro>
            <ul>
              <uni-event-store-get type='local' path='loc.store.languages' prop='state'>
                <uni-repeat strict>
                  <template>
                    <uni-event-store-set listen='click' type='local' path='loc.store.active' state='(( uniself ))'>
                      <uni-event-store-get type='local' path='loc.store.active.lang' equal='(( lang ))'
                                           prop='selected'>
                        <uni-list-item>
                          <uni-list-item-graphic only>
                            <uni-modify state='(( flag ))' action='unbind' prop='name'>
                              <uni-flag></uni-flag>
                            </uni-modify>
                          </uni-list-item-graphic>

                          <uni-list-item-text>(( textLabel ))</uni-list-item-text>
                        </uni-list-item>
                      </uni-event-store-get>
                    </uni-event-store-set>
                  </template>
                </uni-repeat>
              </uni-event-store-get>
            </ul>
          </uni-list-wrap>
        </uni-menu-surface>
      </uni-menu>
    </uni-lang-menu>

    <uni-translate path='loc.store.translate'>This content is localized</uni-translate>

    <uni-event-store-get type='local' path='loc.store.active.translationUrl' selector='uni-load-store' prop='url'>
      <uni-load-store multi mode='set' path='loc.store.translate'></uni-load-store>
    </uni-event-store-get>
  </div>

  <div>
    <uni-store-set type='local' mode='init' path='loc.load.active'
                   state='{"lang": "en", "flag": "gb", "textLabel": "English", "translationUrl": "assets/json/i18n/en.json"}'>
    </uni-store-set>

    <uni-lang-menu only>
      <uni-menu>
        <uni-button pro>
          <uni-button-icon only>
            <uni-event-store-get type='local' path='loc.load.active.flag' selector='uni-flag' prop='name'>
              <uni-flag></uni-flag>
            </uni-event-store-get>
          </uni-button-icon>

          <uni-store-display type='local' path='loc.form.mini' equal='false'>
            <uni-button-label>
              <uni-event-store-get type='local' path='loc.load.active.textLabel' selector='uni-render' prop='value'>
                <uni-render text></uni-render>
              </uni-event-store-get>
            </uni-button-label>
          </uni-store-display>

          <uni-button-icon name='arrow-drop-down'>
          </uni-button-icon>
        </uni-button>

        <uni-menu-surface>
          <uni-list-wrap pro>
            <ul>
              <uni-load-repeat strict url='assets/json/flag-route.json'>
                <template>
                  <uni-event-store-set listen='click' type='local' path='loc.load.active' state='(( uniself ))'>
                    <uni-event-store-get type='local' path='loc.load.active.lang' equal='(( lang ))' prop='selected'>
                      <uni-list-item>
                        <uni-list-item-graphic only>
                          <uni-modify state='(( flag ))' action='unbind' prop='name'>
                            <uni-flag></uni-flag>
                          </uni-modify>
                        </uni-list-item-graphic>

                        <uni-list-item-text>(( textLabel ))</uni-list-item-text>
                      </uni-list-item>
                    </uni-event-store-get>
                  </uni-event-store-set>
                </template>
              </uni-load-repeat>
            </ul>
          </uni-list-wrap>
        </uni-menu-surface>
      </uni-menu>
    </uni-lang-menu>

    <uni-translate path='loc.load.translate'>This content is localized</uni-translate>

    <uni-event-store-get type='local' path='loc.load.active.translationUrl' selector='uni-load-store' prop='url'>
      <uni-load-store multi mode='set' path='loc.load.translate'>
      </uni-load-store>
    </uni-event-store-get>
  </div>

  <div>
    <uni-store-set type='local' mode='init' path='loc.manual.active'
                   state='{"lang": "en", "flag": "gb", "textLabel": "English", "translationUrl": "assets/json/i18n/en.json"}'>
    </uni-store-set>

    <uni-lang-menu only>
      <uni-menu>
        <uni-button pro>
          <uni-button-icon only>
            <uni-event-store-get type='local' path='loc.manual.active.flag' selector='uni-flag' prop='name'>
              <uni-flag></uni-flag>
            </uni-event-store-get>
          </uni-button-icon>

          <uni-store-display type='local' path='loc.form.mini' equal='false'>
            <uni-button-label>
              <uni-event-store-get type='local' path='loc.manual.active.textLabel' selector='uni-render' prop='value'>
                <uni-render text></uni-render>
              </uni-event-store-get>
            </uni-button-label>
          </uni-store-display>

          <uni-button-icon name='arrow-drop-down'>
          </uni-button-icon>
        </uni-button>

        <uni-menu-surface>
          <uni-list-wrap pro>
            <ul>
              <uni-event-store-set listen='click' type='local' path='loc.manual.active'
                                   state='{"lang": "en", "flag": "gb", "textLabel": "English", "translationUrl": "assets/json/i18n/en.json"}'>
                <uni-event-store-get type='local' path='loc.manual.active.lang' equal='en' selector='uni-list-item'
                                     prop='selected'>
                  <uni-list-item>
                    <uni-list-item-graphic only>
                      <uni-flag name='gb'></uni-flag>
                    </uni-list-item-graphic>

                    <uni-list-item-text>English</uni-list-item-text>
                  </uni-list-item>
                </uni-event-store-get>
              </uni-event-store-set>

              <uni-event-store-set listen='click' type='local' path='loc.manual.active'
                                   state='{"lang": "cn", "flag": "cn", "textLabel": "中文", "translationUrl": "assets/json/i18n/cn.json"}'>
                <uni-event-store-get type='local' path='loc.manual.active.lang' equal='cn' selector='uni-list-item'
                                     prop='selected'>
                  <uni-list-item>
                    <uni-list-item-graphic only>
                      <uni-flag name='cn'></uni-flag>
                    </uni-list-item-graphic>

                    <uni-list-item-text>中文</uni-list-item-text>
                  </uni-list-item>
                </uni-event-store-get>
              </uni-event-store-set>

              <uni-event-store-set listen='click' type='local' path='loc.manual.active'
                                   state='{"lang": "ru", "flag": "ru", "textLabel": "Русский", "translationUrl": "assets/json/i18n/ru.json"}'>
                <uni-event-store-get type='local' path='loc.manual.active.lang' equal='ru' selector='uni-list-item'
                                     prop='selected'>
                  <uni-list-item>
                    <uni-list-item-graphic only>
                      <uni-flag name='ru'></uni-flag>
                    </uni-list-item-graphic>

                    <uni-list-item-text>Русский</uni-list-item-text>
                  </uni-list-item>
                </uni-event-store-get>
              </uni-event-store-set>
            </ul>
          </uni-list-wrap>
        </uni-menu-surface>
      </uni-menu>
    </uni-lang-menu>

    <uni-translate path='loc.manual.translate'>This content is localized</uni-translate>

    <uni-event-store-get type='local' path='loc.manual.active.translationUrl' selector='uni-load-store' prop='url'>
      <uni-load-store multi mode='set' path='loc.manual.translate'>
      </uni-load-store>
    </uni-event-store-get>
  </div>
</uni-event-store-get>
</body>
</html>
